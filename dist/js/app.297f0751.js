(function(){"use strict";var t={5867:function(t,e,s){var o=s(6369),a=s(3822),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("landing-page",{attrs:{header:t.header},on:{stopPageScroll:function(e){t.settings.suppressScrollY=!0},startPageScroll:function(e){t.settings.suppressScrollY=!1}}})],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[s("div",{attrs:{id:"modal-container"},on:{click:t.closeModal}},[s("div",{staticClass:"modal-background"},[Object.keys(t.book).length?s("div",{staticClass:"modal"},[s("div",{staticClass:"book-image"},[s("img",{staticStyle:{width:"150px",height:"200px"},attrs:{src:t.getImagePath,alt:""}})]),Object.keys(t.book).length?s("div",{staticClass:"book-details"},[s("div",{staticClass:"relevant-info"},[s("div",{staticClass:"book-title"},[t._v(" "+t._s(t.book.volumeInfo.title)+" ")]),t.book.volumeInfo.subtitle?s("div",[t._v(" "+t._s(t.book.volumeInfo.subtitle)+" ")]):t._e(),s("hr"),t.book.volumeInfo.authors&&0!==t.book.volumeInfo.authors.length?s("div",{staticClass:"book-authors"},[t._v(" By: "),t._l(t.book.volumeInfo.authors,(function(e,o){return s("span",{key:o+"_"+t.book.volumeInfo.contentVersion},[t._v(" "+t._s(e)),s("span",{directives:[{name:"show",rawName:"v-show",value:o+1!==t.book.volumeInfo.authors.length,expression:"index + 1 !== book.volumeInfo.authors.length"}]},[t._v(",")])])}))],2):t._e(),t.book.volumeInfo.averageRating?s("span",{staticClass:"rating-container",attrs:{id:"r-"+t.book.id}},[s("span",{staticClass:"average-rating"},[t._v(t._s(t.book.volumeInfo.averageRating))]),s("span",{staticClass:"rating-star"})]):t._e(),t.book.volumeInfo.ratingsCount?s("span",{staticClass:"rating-count"},[t._v(t._s(t.book.volumeInfo.ratingsCount)+" rating"),1!==parseInt(t.book.volumeInfo.ratingsCount)?s("span",[t._v("s")]):t._e()]):s("span",{staticClass:"rating-count"},[t._v("No ratings yet")]),t.book.saleInfo.retailPrice?s("div",{staticClass:"book-price"},[t._v(" "+t._s(t.getCurrencySymbol)+t._s(t.book.saleInfo.retailPrice.amount)+" ")]):t._e(),s("div",{staticClass:"use-book",on:{click:t.actionOnBooks}},[t.book.saleInfo.buyLink?s("span",{staticClass:"buy-link"},[t._v("Buy"),s("uil-shopping-cart-alt",{staticClass:"logo",attrs:{size:"30px"}})],1):t._e(),t.book.accessInfo.pdf.isAvailable&&t.book.accessInfo.pdf.downloadLink?s("span",{staticClass:"download-link"},[t._v("Download "),s("uil-file-download",{staticClass:"logo",attrs:{size:"30px"}})],1):t._e()])])]):t._e(),s("div",{staticClass:"additional-info specs"},[s("div",{staticClass:"title"},[t._v("Specifications")]),s("hr"),s("table",[t.book.volumeInfo.publishedDate?s("tr",[s("td",[t._v("Published In")]),s("td",[t._v(t._s(t.getDate))])]):t._e(),t.book.volumeInfo.publisher?s("tr",[s("td",[t._v("Publisher")]),s("td",[t._v(t._s(t.book.volumeInfo.publisher))])]):t._e(),t.book.volumeInfo.pageCount?s("tr",[s("td",[t._v("Number Of Pages")]),s("td",[t._v(t._s(t.book.volumeInfo.pageCount))])]):t._e(),s("tr",[s("td",[t._v("Language")]),s("td",[t._v(t._s(t.getLanguage))])])])]),s("div",{staticClass:"additional-info description"},[s("div",{staticClass:"title"},[t._v("Description")]),s("hr"),t._v(" "+t._s(t.book.volumeInfo.description?t.book.volumeInfo.description:"No description available")+" ")])]):t._e()])]),s("div",{staticClass:"content"},[s("nav",[s("header-section",{attrs:{header:t.header}}),s("search-box",{on:{searched:function(e){return t.searchParams=e}}})],1),s("display-books",{attrs:{searchParams:t.searchParams},on:{bookClicked:t.showDetails}})],1)])},l=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"title"},[t._v(t._s(t.header.title))]),s("div",{staticClass:"tagline"},[t._v(t._s(t.header.tagline))])])},u=[],d={name:"HeaderSection",props:{header:Object}},h=d,g=s(1001),p=(0,g.Z)(h,c,u,!1,null,"8e69e630",null),v=p.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-box"},[s("div",{staticClass:"drop-down"},[s("div",{on:{click:t.toggleDropdownButton}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedType,expression:"selectedType"}],attrs:{disabled:"",placeholder:"Choose a search category"},domProps:{value:t.selectedType},on:{input:function(e){e.target.composing||(t.selectedType=e.target.value)}}}),s("span",{staticClass:"toggle-button"},[t.isClosed?s("uil-angle-down",{staticClass:"logo",attrs:{size:"30px"}}):s("uil-times",{staticClass:"logo",attrs:{size:"30px"}})],1)]),s("section",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu"}},t._l(t.filteredTypes,(function(e){return s("button",{key:e.id,on:{click:function(s){return t.handleMenuLabelButtonClicked(e)}}},[t._v(" "+t._s(e.value)+" ")])})),0)]),s("div",{staticClass:"tags-input"},[s("vue-tags-input",{attrs:{placeholder:t.getPlaceHolder,tags:t.tags},on:{"tags-changed":t.updateTags},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}}),s("span",{staticClass:"logo"},[s("uil-search-alt",{attrs:{size:"30px"}})],1)],1)])},f=[],b=s(8813),k=s(1691),y=s(4335),_=s(6919),C=s.n(_),P=JSON.parse('{"b":[{"value":"All Categories","id":"q","placeHolder":"Type in title, author or subject"},{"value":"Title","id":"title","placeHolder":"Type in book name"},{"value":"Author","id":"author","placeHolder":"Type in author name"},{"value":"Subject","id":"subject","placeHolder":"Type in subject of a book"},{"value":"Language","id":"langRestrict","placeHolder":"Type in language code of book"}]}'),w={name:"SearchBox",data(){return{tag:"",tags:[],types:P.b,selectedType:P.b[0].value,isClosed:!0}},components:{UilSearchAlt:b.Z,VueTagsInput:C(),UilAngleDown:k.Z,UilTimes:y.Z},watch:{tags(t){t.length&&this.selectedType||(this.selectedType=this.types[0].value),this.emitEvent(this.selectedType,t)},selectedType(t){this.tags.length&&(this.tags=[],this.emitEvent(t,this.tags))}},computed:{getPlaceHolder(){return this.tags.length?"":this.types.find((t=>t.value===this.selectedType)).placeHolder},filteredTypes(){return this.types.filter((t=>t.value!==this.selectedType))}},methods:{updateTags(t){this.tags=t},toggleDropdownButton(){this.isClosed=!this.isClosed;const t=document.getElementById("dropdown-menu");t.classList.toggle("open")},handleMenuLabelButtonClicked(t){this.selectedType=t.value,this.toggleDropdownButton()},emitEvent(t,e){const s=this.updateStore(t,e);this.$emit("searched",s)},updateStore(t,e){const s={category:t,keywords:e.length?e.map((t=>t.text)):[]};return this.$store.commit("setSearchParams",s),s}}},I=w,T=(0,g.Z)(I,m,f,!1,null,null,null),x=T.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("display-message",{attrs:{queryDisplay:t.queryDisplay,isLoaded:t.books.length}}),s("div",{staticClass:"books-container"},[s("resize-observer",{on:{notify:t.handleResize}}),t._l(t.paginatedItems,(function(e){return s("div",{key:e.id+"_"+e.etag,staticClass:"book-container",on:{click:function(s){return t.$emit("bookClicked",e.id,t.paginatedItems)}}},[s("div",{staticClass:"book-image"},[s("img",{staticStyle:{width:"150px",height:"200px"},attrs:{src:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"images/no-preview.png",alt:""}})]),s("div",{staticClass:"book-details"},[s("div",{staticClass:"book-title"},[t._v(t._s(e.volumeInfo.title))]),e.volumeInfo.authors&&0!==e.volumeInfo.authors.length?s("div",{staticClass:"book-authors"},[t._v(" By: "),t._l(e.volumeInfo.authors,(function(o,a){return s("span",{key:a+"_"+e.volumeInfo.contentVersion},[t._v(" "+t._s(o)),s("span",{directives:[{name:"show",rawName:"v-show",value:a+1!==e.volumeInfo.authors.length,expression:"index + 1 !== book.volumeInfo.authors.length"}]},[t._v(",")])])}))],2):t._e(),e.volumeInfo.averageRating?s("div",{staticClass:"rating-container",attrs:{id:"r-"+e.id}},[s("span",{staticClass:"rating-star"}),s("span",{staticClass:"rating-star"}),s("span",{staticClass:"rating-star"}),s("span",{staticClass:"rating-star"}),s("span",{staticClass:"rating-star"}),s("span",{staticClass:"rating-count"},[t._v("("+t._s(e.volumeInfo.ratingsCount)+")")])]):t._e()])])})),this.books.length?s("div",{staticClass:"pagination"},[s("button",{attrs:{disabled:1===this.currentPage},on:{click:function(e){t.currentPage=1,t.scrollToTop()}}},[s("uil-angle-double-left")],1),s("button",{attrs:{disabled:1===this.currentPage},on:{click:t.previousPage}},[s("uil-angle-left")],1),t._l(t.paginationRange,(function(e){return s("button",{key:e,class:e==t.currentPage?"active":"",on:{click:t.pageClick}},[t._v(" "+t._s(e)+" ")])})),s("button",{attrs:{disabled:t.currentPage===t.totalPages},on:{click:t.nextPage}},[s("uil-angle-right")],1),s("button",{attrs:{disabled:t.currentPage===t.totalPages},on:{click:function(e){t.currentPage=t.totalPages,t.scrollToTop()}}},[s("uil-angle-double-right")],1)],2):t._e()],2)],1)},S=[],L=(s(7658),s(4161)),B=s(4641),O=s(7412),Z=s(8553),R=s(8779),A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"display-message"},[t.isLoaded?s("div",[t._v(" Showing all the books"),t.queryDisplay?s("span",[t._v(t._s(t.queryDisplay))]):t._e(),t._v(": ")]):t._e(),s("hr")])},$=[],q={name:"DisplayMessage",props:{queryDisplay:String,isLoaded:Number}},M=q,j=(0,g.Z)(M,A,$,!1,null,"0127df14",null),N=j.exports,E={name:"DisplayBooks",data(){return{books:[],totalResults:240,currentPage:1,perPage:16,queryParams:{q:"*",maxResults:40,orderBy:"relevance",API_KEY:"AIzaSyB02sgmg3h44QwiaNduONxqM_gp22gKfn8"},queryDisplay:""}},components:{UilAngleLeft:B.Z,UilAngleDoubleLeft:O.Z,UilAngleRight:Z.Z,UilAngleDoubleRight:R.Z,DisplayMessage:N},props:{searchParams:Object},beforeMount(){this.fetchBooks(0)},computed:{paginatedItems(){const t=(this.currentPage-1)*this.perPage,e=t+this.perPage;return this.books.slice(t,e)},totalPages(){return Math.ceil(this.books.length/this.perPage)},paginationRange(){const t=2,e=Math.max(1,this.currentPage-t),s=Math.min(this.totalPages,this.currentPage+t);return Array.from({length:s-e+1},((t,s)=>e+s))}},watch:{searchParams({category:t,keywords:e}){if(e.length){let s={...this.queryParams,q:e.join(" "),[P.b.find((e=>e.value===t)).id]:e.join(" ")};this.constructQueryDisplay(e,t),this.fetchBooks(0,s)}else this.queryDisplay="",this.fetchBooks(0);this.books=[],this.currentPage=1},currentPage(){this.$nextTick((()=>this.putRatingOnBooks()))}},methods:{constructQueryDisplay(t,e){let s=t.join(", ");const o=s.lastIndexOf(", ");if(-1!==o){const t=s.substring(0,o),a=s.substring(o+1);this.queryDisplay=` with "${t} & ${a}" keywords in "${e.toLowerCase()}"`}else this.queryDisplay=s.length?` with "${s}" keyword in "${e.toLowerCase()}"`:""},fetchBooks(t,e=this.queryParams){L.Z.get("https://www.googleapis.com/books/v1/volumes?",{params:{...e,startIndex:t}}).then((s=>{this.books.push(...s.data.items),t+this.queryParams.maxResults<this.totalResults&&(t+=this.queryParams.maxResults,this.fetchBooks(t,e))})).then(this.putRatingOnBooks).catch((t=>{console.log(t)}))},putRatingOnBooks(){this.paginatedItems.forEach((t=>{const e=t.volumeInfo.averageRating,s=document.getElementById(`r-${t.id}`);if(s){const t=s.querySelectorAll(".rating-star"),o=Math.round(2*e)/2;t.forEach(((t,e)=>{e<o&&t.classList.add("filled")}))}t.volumeInfo.title=this.capitalizeWords(t.volumeInfo.title)}))},previousPage(){this.currentPage>1&&(this.currentPage--,this.scrollToTop())},nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.scrollToTop())},pageClick(t){this.currentPage=parseInt(t.target.textContent),this.scrollToTop()},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},capitalizeWords(t){return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},randomSort(t){for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t},handleResize({width:t}){this.perPage=t<1340?18:16}}},H=E,U=(0,g.Z)(H,D,S,!1,null,"0e0e6136",null),z=U.exports,Y=s(6907),V=s(1942),F={name:"LandingPage",data(){return{book:{},modalContainer:null,searchParams:{category:P.b[0].value,keywords:[]},previousAnimationType:null,animationTypes:["one","two","three","four","five"],currencySymbols:{USD:"$",EUR:"€",CRC:"₡",GBP:"£",ILS:"₪",INR:"₹",JPY:"¥",KRW:"₩",NGN:"₦",PHP:"₱",PLN:"zł",PYG:"₲",THB:"฿",UAH:"₴",VND:"₫"}}},computed:{getImagePath(){return this.book?.volumeInfo?.imageLinks?.thumbnail?this.book.volumeInfo.imageLinks.thumbnail:"images/no-preview.png"},getDate(){const t=new Date(this.book.volumeInfo.publishedDate),e=t.toLocaleString("default",{month:"long"}),s=t.getFullYear();return e+" "+s},getCurrencySymbol(){return this.currencySymbols?.[this.book.saleInfo.retailPrice.currencyCode]},getLanguage(){let t=new Intl.DisplayNames(["en"],{type:"language"});return t.of(this.book.volumeInfo.language)}},components:{SearchBox:x,HeaderSection:v,DisplayBooks:z,UilShoppingCartAlt:Y.Z,UilFileDownload:V.Z},props:{header:Object},mounted(){this.modalContainer=document.getElementById("modal-container")},methods:{actionOnBooks(t){const e=t.target.className;switch(e){case"buy-link":window.open(this.book.saleInfo.buyLink,"_blank");break;case"download-link":window.open(this.book.accessInfo.pdf.downloadLink,"_blank").focus();break;default:return}},showDetails(t,e){this.book=e.find((e=>e.id===t)),this.$nextTick((()=>{this.openModal()}))},openModal(){this.modalContainer.removeAttribute("class"),this.modalContainer.classList.add("two"),document.body.classList.add("modal-active")},closeModal(t){"modal-background"===t.target.className&&(this.modalContainer.classList.add("out"),document.body.classList.remove("modal-active"))},selectAnimation(){let t;do{t=Math.floor(Math.random()*this.animationTypes.length)}while(t===this.previousAnimationType);return this.previousAnimationType=t,this.animationTypes[t]}}},G=F,K=(0,g.Z)(G,r,l,!1,null,"10893ac9",null),Q=K.exports,W={name:"App",components:{LandingPage:Q},computed:{header(){return{title:this.$store.state.header.title,tagline:this.$store.state.header.tagline}}}},J=W,X=(0,g.Z)(J,n,i,!1,null,null,null),tt=X.exports;o.Z.use(a.ZP);const et=new a.ZP.Store({state:{header:{title:"Bookstore",tagline:"The store you can't afford to miss."},searchParams:{category:"",keywords:[]}},mutations:{setSearchParams(t,e){t.searchParams.category=e.category,t.searchParams.keywords=e.keywords}},getters:{getSearchParams:t=>t.searchParams}});var st=et,ot=s(1442);o.Z.use(a.ZP),o.Z.use(ot.ZP),o.Z.config.productionTip=!1,new o.Z({store:st,render:t=>t(tt)}).$mount("#app")}},e={};function s(o){var a=e[o];if(void 0!==a)return a.exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,o,a,n){if(!o){var i=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],n=t[u][2];for(var r=!0,l=0;l<o.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((function(t){return s.O[t](o[l])}))?o.splice(l--,1):(r=!1,n<i&&(i=n));if(r){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[o,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,n,i=o[0],r=o[1],l=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(l)var u=l(s)}for(e&&e(o);c<i.length;c++)n=i[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},o=self["webpackChunkbookstore"]=self["webpackChunkbookstore"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(5867)}));o=s.O(o)})();
//# sourceMappingURL=app.297f0751.js.map